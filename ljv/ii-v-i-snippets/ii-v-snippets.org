#+TITLE: ii-V Snippets
#+AUTHOR: Bartev
#+OPTIONS: num:nil toc:nil

#+LATEX_HEADER: \usepackage[cm]{fullpage}
#+LATEX_HEADER: \usepackage[headheight=15pt, headsep=10pt, top=1in, bottom=1in, left=0.75in, right=0.75in]{geometry} % Ensure sufficient header space

#+LATEX_HEADER: \usepackage{fancyhdr}
#+LATEX_HEADER: \pagestyle{fancy}
#+LATEX_HEADER: \fancyhf{}
#+LATEX_HEADER: \fancyhead[L]{\textbf{\title}} % Use the Org #+TITLE
#+LATEX_HEADER: \fancyhead[R]{\textbf{\author}} % Use the Org #+AUTHOR
#+LATEX_HEADER: \fancyfoot[C]{\thepage}
#+LATEX_HEADER: \renewcommand{\headrulewidth}{0.4pt} % Optional: Add a horizontal rule below the header

#+LATEX_HEADER: \makeatletter
#+LATEX_HEADER: \let\ps@plain\ps@fancy % Apply "fancy" style to the first page
#+LATEX_HEADER: \let\maketitle\relax % Suppress default title/author rendering
#+LATEX_HEADER: \makeatother

#+PROPERTY: header-args:lilypond :noweb yes :exports results
#+PROPERTY: header-args:lilypond :prologue (org-babel-ref-resolve "settings[]")

#+name: settings
#+begin_src lilypond :exports none
  \version "2.24.2"

  \include "lilypond-book-preamble.ly"

  \include "jazzchords.ily"
  %% \include "lilyjazz.ily"
  \include "jazzextras.ily"
  \include "roman_numeral_analysis_tool.ily"
  \include "bv_definitions.ily"

  #(ly:set-option 'use-paper-size-for-page #f)
  #(ly:set-option 'tall-page-formats 'pdf)

  #(set-global-staff-size 16)

  \paper{
    indent=0\mm
    left-margin = 0\in
    right-margin = 0\in

    line-width=7\in
    oddFooterMarkup=##f
    oddHeaderMarkup=##f
    bookTitleMarkup=##f
    scoreTitleMarkup=##f
    ragged-right = ##f

    #(define fonts
      (set-global-fonts
       #:music "lilyjazz"
       #:brace "lilyjazz"
       #:sans "lilyjazz-chord"
       #:factor (/ staff-height pt 18)
     ))
  }

  \layout {
    \omit Staff.TimeSignature
    \context {
      \Score
      \override SpacingSpanner.uniform-stretching = ##t
    }
  }

  global = {
    \numericTimeSignature
    \time 4/4
    %% \tempo 4=224  % this would be over the clef on the first line

    %% See here for using colors
    %% http://lilypond.org/doc/v2.19/Documentation/notation/inside-the-staff#coloring-objects
    %% \override Score.RehearsalMark.color = #(x11-color "SlateBlue2")  % example using x11 colors
    \override Score.RehearsalMark.color = #darkred
    %% http://lilypond.org/doc/v2.19/Documentation/internals/rehearsalmark
    \override Score.RehearsalMark.font-size = 6

    \set Score.rehearsalMarkFormatter = #format-mark-box-alphabet
  }

#+end_src
* Basic ii-V-I phrases
** In E-flat
#+begin_src lilypond :file e-flat.pdf
  \score {
    \new StaffGroup <<
      \new ChordNames { \chordmode { f1:m7 bes:7 ees:maj7 ees:maj7 }}
      \new Staff {
        \global
        \key ees \major
        \relative c''' {
          c8 ees d c bes aes f aes~
          aes8 f ees d ees4 f8 d~
          d8 ees f aes~ aes g f g~
          g4 r4 r2
        }
      }
      \lyrics {
        \markup \scaleDegree { 5 }2
        \markup \scaleDegree { 4 }4.
        \markup \scaleDegree { f3 }8

        \markup \scaleDegree { f7 }2
        \markup \scaleDegree { 4 }4.
        \markup \scaleDegree { 3 }8

        \markup \scaleDegree { 7 }2
        \markup \scaleDegree { 4 }4.
        \markup \scaleDegree { 3 }8

        \markup \scaleDegree { 3 }1
      }
    >>
  }
#+end_src
** G maj
#+begin_src lilypond :file g_maj.pdf
  \score {
    \new StaffGroup <<
      \new ChordNames { \chordmode { s4 a1:m7 d:7 g:maj7 g:maj7 }}
      \new Staff {
        \global
        \key g \major
        \relative c'' {
          \partial 4 { r8 g}
          \tuplet 3/2 { a8 c e } g8 fis8~ fis e~ e4~
          e8 d e fis d r r a
          aes g fis g b fis'~ fis e
          d b r2.
        }
      }
      \lyrics {
        \markup \scaleDegree {  }4
        \markup \scaleDegree { 1 }4
        \markup \scaleDegree { f7 }4.
        \markup \scaleDegree { 5 }4.
        \markup \scaleDegree {  }8

        \markup \scaleDegree { 1 }4
        \markup \scaleDegree { 3 }8
        \markup \scaleDegree { 1 }4.
        \markup \scaleDegree { 2 }8

        \markup \scaleDegree { f2 }8
        \markup \scaleDegree { 1 }8
        \markup \scaleDegree { 7 }8
        \markup \scaleDegree { 1 }8

        \markup \scaleDegree { 3 }8
        \markup \scaleDegree { 7 }4
        \markup \scaleDegree { 5 }8

        \markup \scaleDegree { 5 }8
        \markup \scaleDegree { 3 }8

      }
    >>
  }
#+end_src

** G maj (variation 2)
#+begin_src lilypond :file g_maj_v2.pdf
  \score {
    \new StaffGroup <<
      \new ChordNames { \chordmode { s4 a1:m7 d:7 g:maj7 g:maj7 }}
      \new Staff {
        \global
        \key g \major
        \relative c''' {
          a4. g8 a4. g8
          fis4. e8 fis4. e8
          d4. b8 d b a b~
          b2 r2
        }
      }
    >>
  }
#+end_src
